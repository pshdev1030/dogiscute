{"version":3,"sources":["Component/ImageContainer/ImageContainer.tsx","Component/Modal/Modal.tsx","util.ts","App.tsx","index.tsx"],"names":["ImageContainer","loadData","animalData","animalIndex","setAnimalIndex","openModal","console","log","onClickNext","useCallback","Math","floor","length","i","prev","style","width","height","onClick","src","alt","Modal","fetchData","animal","a","endpoint","axios","get","data","url","message","error","App","useState","curAnimal","setCurAnimal","keyArr","setKeyArr","dogData","setdogData","catData","setcatData","dogIdx","setDogIdx","catIdx","setCatIdx","setOpenModal","onChangeSetKey","e","key","substring","then","setOpenAnimalModal","useEffect","toLowerCase","window","addEventListener","removeEventListener","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d74f348.chunk.js","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { VFC } from \"react\";\r\n\r\ninterface Props {\r\n  loadData: () => void;\r\n  animalData: string[];\r\n  animalIndex: number;\r\n  setAnimalIndex: React.Dispatch<React.SetStateAction<number>>;\r\n  openModal: () => void;\r\n}\r\n\r\nconst ImageContainer: VFC<Props> = ({\r\n  loadData,\r\n  animalData,\r\n  animalIndex,\r\n  setAnimalIndex,\r\n  openModal,\r\n}) => {\r\n  console.log(animalData);\r\n\r\n  const onClickNext = useCallback(() => {\r\n    if (animalIndex === Math.floor(animalData.length / 2)) {\r\n      for (let i = 0; i < 5; i++) {\r\n        loadData();\r\n      }\r\n    }\r\n    setAnimalIndex((prev) => prev + 1);\r\n  }, [animalData.length, animalIndex, loadData, setAnimalIndex]);\r\n  return (\r\n    <>\r\n      <div style={{ width: \"400px\", height: \"400px\" }}>\r\n        <button>prev</button>\r\n        {animalData.length !== 0 && (\r\n          <img\r\n            onClick={openModal}\r\n            style={{ width: \"100%\", height: \"100%\" }}\r\n            src={animalData[animalIndex]}\r\n            alt=\"\"\r\n          ></img>\r\n        )}\r\n        <button onClick={onClickNext}>next</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageContainer;\r\n","import React from \"react\";\r\n\r\nexport const Modal = () => {\r\n  return <div>hi</div>;\r\n};\r\n","import axios from \"axios\";\r\n\r\ntype animal = \"cat\" | \"dog\";\r\n\r\nconst fetchData = async (animal: animal) => {\r\n  const endpoint =\r\n    animal === \"cat\"\r\n      ? \"https://api.thecatapi.com/v1/images/search\"\r\n      : \"https://dog.ceo/api/breeds/image/random\";\r\n  try {\r\n    const data = await axios.get(endpoint);\r\n    return animal === \"cat\" ? data.data[0].url : data.data.message;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport default fetchData;\r\n","import React, { useCallback, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport ImageContainer from \"./Component/ImageContainer/ImageContainer\";\nimport { Modal } from \"./Component/Modal/Modal\";\nimport fetchData from \"./util\";\n\ntype animal = \"cat\" | \"dog\";\n\nfunction App() {\n  const [curAnimal, setCurAnimal] = useState<animal>(\"dog\");\n  const [keyArr, setKeyArr] = useState<string>(\"\");\n  const [dogData, setdogData] = useState<string[]>([]);\n  const [catData, setcatData] = useState<string[]>([]);\n  const [dogIdx, setDogIdx] = useState<number>(0);\n  const [catIdx, setCatIdx] = useState<number>(0);\n  const [openModal, setOpenModal] = useState<boolean>(false);\n\n  const onChangeSetKey = useCallback((e) => {\n    setKeyArr((prev) =>\n      prev.length < 3 ? prev + e.key : prev.substring(1, 3) + e.key\n    );\n  }, []);\n\n  const loadData = useCallback(() => {\n    fetchData(curAnimal).then((data) => {\n      curAnimal === \"dog\"\n        ? setdogData((prev) => [...prev, data])\n        : setcatData((prev) => [...prev, data]);\n    });\n  }, [curAnimal]);\n\n  const setOpenAnimalModal = useCallback(() => {\n    setOpenModal((prev) => !prev);\n  }, []);\n\n  useEffect(() => {\n    if (keyArr.toLowerCase() === \"cat\" && curAnimal !== \"cat\") {\n      setCurAnimal(\"cat\");\n    } else if (keyArr.toLowerCase() === \"dog\" && curAnimal !== \"dog\") {\n      setCurAnimal(\"dog\");\n    }\n  }, [keyArr, curAnimal]);\n\n  useEffect(() => {\n    window.addEventListener(\"keyup\", onChangeSetKey);\n    return () => {\n      window.removeEventListener(\"keyup\", (e) => onChangeSetKey);\n    };\n  }, []);\n\n  useEffect(() => {\n    for (let i = 0; i < 10; i++) {\n      fetchData(\"cat\").then((data) => {\n        setcatData((prev) => [...prev, data]);\n      });\n    }\n\n    for (let i = 0; i < 10; i++) {\n      fetchData(\"dog\").then((data) => {\n        setdogData((prev) => [...prev, data]);\n      });\n    }\n  }, []);\n\n  return (\n    <>\n      <div>{`헉${curAnimal === \"dog\" ? \"강아지\" : \"고양이\"}가너무귀여워`}</div>\n      <div>{`${curAnimal === \"dog\" ? \"강아지\" : \"고양이\"}`}</div>\n      {!dogData.length && !catData.length && (\n        <button onClick={loadData}>시작하기</button>\n      )}\n      {curAnimal === \"dog\" && (\n        <ImageContainer\n          loadData={loadData}\n          animalData={dogData}\n          animalIndex={dogIdx}\n          setAnimalIndex={setDogIdx}\n          openModal={setOpenAnimalModal}\n        />\n      )}\n      {curAnimal === \"cat\" && (\n        <ImageContainer\n          loadData={loadData}\n          animalData={catData}\n          animalIndex={catIdx}\n          setAnimalIndex={setCatIdx}\n          openModal={setOpenAnimalModal}\n        />\n      )}\n      {openModal && <Modal />}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}